<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record model="ir.actions.server" id="action_reorder_rule">
            <field name="name">Omnia Reordering Rules</field>
            <field name="model_id" ref="model_mrp_production"/>
            <field name="code">
                if context.get('active_model') == 'mrp.production' and context.get('active_ids'):
                    action = self.pool['mrp.production'].auto_reordering_rules_calculation(cr, uid, context['active_ids'], context=context)
            </field>
        </record>

        <record model="ir.values" id="omnia_reorder_rule_values">
            <field name="name">Omnia Reordering Rules</field>
            <field name="key2">client_action_multi</field>
            <field name="value" eval="'ir.actions.server,' +str(ref('action_reorder_rule'))" />
            <field name="key">action</field>
            <field name="model">mrp.production</field>
            <field name="model_id" ref="model_mrp_production"/>
        </record>

    </data>
</openerp>