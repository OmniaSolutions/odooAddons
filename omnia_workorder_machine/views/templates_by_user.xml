<?xml version="1.0" encoding="utf-8"?>
<odoo>	

	<template id="assets_common" name="Import workorder machine js" inherit_id="web.assets_common">
        <xpath expr="script[last()]" position="after">
        	<link rel="stylesheet" href="/omnia_workorder_machine/static/src/css/workorder_by_user.css"/>
        	<script type="text/javascript" src="/omnia_workorder_machine/static/src/js/workorder_by_user.js"></script>
        </xpath>
    </template>

    <template id="by_user" name="Workorder by User">
        <head>
            <t t-call-assets="web.assets_common" />
            <t t-call-assets="web.assets_common" />
            
            <t t-call-assets="web.assets_frontend" />
            <t t-call-assets="web.assets_frontend" />
            
            <t t-call-assets="web.assets_backend" />
            <t t-call-assets="web.assets_backend" />

        </head>
        <t t-call="web.layout">
	        <div class="main_div">
	            <h1 style="padding: 5px; margin-left:30px;">Register WorkOrder Activity</h1>
	            <form style="display: -webkit-inline-box;margin-left: 35px;width:100%">
	            	<table style="width: 90%;">
	            		<tr>
	            		   <td t-if="hide_user != True" id="td_user_id">User Id: </td>
	            		   <td t-if="hide_user != True"><input id="input_user_id" type="number" class="user_id"/></td>
	            		   
	            		   <td t-if="hide_user == True" id="td_employee_id">Employee Id: </td>
	            		   <td t-if="hide_user == True"><input id="input_employee_id" type="number" class="employee_id"/></td>
	            		   
				           <td align="right" rowspan="2" style="width: 80%;">
				               <div id="customer_image"><img  src="/web/binary/company_logo"/></div>
				           </td>
	            		</tr>
	            		<tr>
	            			<td id="td_user_name">User Name :</td><td><span id="user_name"/></td>
	            		</tr>
	            	</table>
	            </form>
	            <table class="main_table" id="to_replace"></table>
	        </div>
        </t>        
    </template>

	<template id="template_workorder_machine_table" name="Workorder Table">

		<head>
			<t t-call-assets="web.assets_common" />
			<t t-call-assets="web.assets_common" />
			
            <t t-call-assets="web.assets_frontend" />
            <t t-call-assets="web.assets_frontend" />
            
            <t t-call-assets="web.assets_backend" />
            <t t-call-assets="web.assets_backend" />
<!-- 
            <t t-call-assets="web_editor.assets_summernote" />
            <t t-call-assets="web_editor.assets_summernote" />
            
            <t t-call-assets="website.assets_editor" />
            <t t-call-assets="website.assets_editor" />
 -->
		</head>
	
	    <table class="main_table">
	        <tr>
	            <th class="header_table">ID</th>
	            <th class="header_table">Date Planned</th>
	            <th class="header_table">Internal Reference</th>
	            <th class="header_table">Product Name</th>
	            <th class="header_table">Work Order Name</th>
	            <th class="header_table">Production Name</th>
	            <th class="header_table">N To Do</th>
	            <th class="header_table">N Produced</th>
	            <th class="header_table">Scrap</th>
	            <!--<th class="header_table">Start</th>
	            <th class="header_table">Pause</th>
	            <th class="header_table">Resume</th>
	            <th class="header_table">Record</th>-->
	            <th class="header_table">Operation</th>
	            <th class="header_table">Description</th>
	            <th class="header_table">Work Order State</th>
	            <th class="header_table">User Working</th>
	            <th class="header_table" id="label">Label</th>
	            <th class="header_table">Worksheet</th>
	        </tr>
	        
	        <t t-foreach="wo_lines" t-as="line">
	            
	               <tr>
	                <td class="table_value wo_id"><t t-esc="line[0]"/></td>
	                <td class="table_value"><t t-esc="line[8]"/></td>
	                <td class="table_value internal_ref"><t t-esc="line[2]"/></td>
	                <td class="table_value"><t t-esc="line[1]"/></td>
	                <td class="table_value"><t t-esc="line[3]"/></td>
	                <td class="table_value"><t t-esc="line[4]"/></td>
	                <td class="table_value n_pieces_to_produce"><t t-esc="line[7]"/></td>
	                <td class="table_value"><input id="input_n_pieces" type="number" name="n_pieces" class="n_pieces" step="0.001" value="0" /></td>
	                <td class="table_value"><input id="input_n_scrap" type="number" name="n_scrap" class="n_scrap" step="0.001" value="0" /></td>
	                <td class="table_value">
	                	<div style="display: block ruby;">
	                		<input class="start_work" type='button' value='Start'/>
	                		<input class="pause_work" type='button' value='Pause'/>
	                		<input class="resume_work" type='button' value='Resume'/>
	                		<input class="stop_work" type='button' value='Record'/>
	                	</div>
	                </td>
	                <td class="table_value"><t t-esc="line[5]"/></td>
	                <td class="table_value wo_state" onchange="state_changed(this)"><t t-esc="line[6]"/></td>
                    <t t-if="line[9]=='False'">
                        <td class="table_value">
                            <div style="color:red">Not Working</div>
                        </td>
                    </t>
                    <t t-if="line[9]=='True'">
                        <td class="table_value">
                            <div style="color:green">Working</div>
                        </td>
                    </t>
                    <td class="table_value wo_isuserworking" style="display:none"><t t-raw="line[9]"/></td>
	                <td class="table_value"><input class="print_label" type='button' value='Print'/></td>
	                <td class="table_value"><a t-att-href="line[10]"  target="_blank">View</a></td>
	            </tr>
	        </t>
	         
	    </table>
	</template>

</odoo>