<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="mrp_production_externally_view_wizard" model="ir.ui.view">
        <field name="name">Produce Externally</field>
        <field name="model">mrp.externally.wizard</field>
        <field name="arch" type="xml">
        <form>
            <group>
	        	<field name="external_partner">
	        	    <tree>
                        <field name="partner_id"/>
                        <field name="price" />
                        <field name="delay" />
                        <field name="min_qty" />
                    </tree>
                    <form>
                        <group>
                            <field string="Partner" name="partner_id"/>
                            <field string="Unit Price" name="price" />
                            <field string="Delay" name="delay" />
                            <field string="Min. Quantity" name="min_qty" /> 
                        </group>
                    </form>
	        	</field>
	        	<field name="select_external_partner_ids" invisible="True"/>
	        	<group col="4" colspan="4">
	        		<field name="select_external_partner" domain="[('id', 'in', select_external_partner_ids)]"/>
	        		<button string="Comp. Stock" type="object" name="compute_stock" attrs="{'invisible': [('select_external_partner', '=', False)]}"></button>
	        	</group>
	        	<field name="request_date"/>
	        	<field name="work_order_id" readonly="1"/>
	        	<group col="6">
    	        	<field name="create_purchese_order"/>
    	        	<field name="merge_purchese_order"/>
    	        	<field name="confirm_purchese_order"/>
    	        	<field name="same_product_in_out" attrs="{'invisible': [('work_order_id', '=', False)]}"/>
	        	</group>
	            <field name="move_raw_ids" context="{'wizard_obj_id': id}" attrs="{'readonly': [('same_product_in_out', '=', True)]}">
	                <tree>
	                    <field name="product_id"/>
	                    <field name="product_uom_qty" />
	                    <field name="state" />
	                    <field name="origin" />
	                    <field name="date_expected" />
	                    <field name="location_available" />
	                    <field name="qty_available" />
	                </tree>
	            </field>
	            
	            <field name="move_finished_ids">
	                <tree>
	                    <field name="product_id"/>
	                    <field name="product_uom_qty" />
	                    <field name="state" />
	                    <field name="origin" />
	                    <field name="date_expected" />
	                    <field name="location_available" />
	                    <field name="qty_available" />
	                </tree>
	            </field>
			</group>
            <separator string=""/>
            <footer>
            	<button string="Cancel" name="button_close_wizard" type="object"/>
            	<button string="Produce Externally" name="button_produce_externally" type="object"/>
            </footer>
        </form>
        </field>
    </record>
</odoo>
